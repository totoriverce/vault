<div class="action-block is-rounded" data-test-generate-token-replication>
  <div class="action-block-info">
    <h4 class="title is-5 is-marginless">
      Generate operation token
    </h4>
    <p>
      This token is needed for update and promote actions.
    </p>
  </div>

  <div class="action-block-action">
    <button
      type="button"
      class="button is-tertiary"
      onclick={{action (mut this.isModalActive) true}}
      data-test-replication-action-trigger
    >
      Generate token
    </button>
  </div>
</div>

<ShamirModalFlow
  @action="generate-dr-operation-token"
  @buttonText="Generate token"
  @fetchOnInit={{true}}
  @generateAction={{true}}
  @onClose={{action (mut this.isModalActive) false}}
  @isActive={{this.isModalActive}}
>
  <p>
    Updating or promoting this cluster requires an operation token, generated by inputting the root key shares. If you'd like
    to first encrypt the token with a PGP Key, click "Encrypt with PGP key" below, otherwise we can begin generation of the
    operation token.
  </p>
</ShamirModalFlow>